"use strict";(self["webpackChunkakiyuki"]=self["webpackChunkakiyuki"]||[]).push([[722],{9064:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ee}});var a=n(9269),o=n(3201);const l=(0,a._)("p",{class:"text-h3"},"Snake Game",-1),i={key:0,class:"content flex flex-center q-pl-xs q-pr-xs q-pt-sm q-pb-sm bg-dark q-gutter-y-md"},s=(0,a._)("p",{class:"q-mt-md"}," This game is called snake game. You can control the blue snake with your direction keys. ",-1),r=(0,a._)("p",null,"The snake will graw on getting light green items, and get gameover on touch to red snake or wall.",-1),d=(0,a._)("div",{class:"text-h6"},"GAME OVER",-1);function c(e,t,n,c,u,m){const h=(0,a.up)("GameDisplay"),p=(0,a.up)("q-btn"),v=(0,a.up)("q-page"),f=(0,a.up)("q-card-section"),y=(0,a.up)("q-card-actions"),g=(0,a.up)("q-card"),S=(0,a.up)("q-dialog"),w=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(v,{class:"flex flex-center column q-pa-md"},{default:(0,a.w5)((()=>[l,u.play?((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(h,{onOnGameover:m.onGameover},null,8,["onOnGameover"]),(0,a.Wm)(p,{color:"white",class:"text-black",onClick:t[0]||(t[0]=e=>u.play=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Quit game")])),_:1})])):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Wm)(p,{color:"white",class:"text-black",onClick:t[1]||(t[1]=e=>u.play=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)("Start")])),_:1}),s,r],64))])),_:1}),(0,a.Wm)(S,{modelValue:u.gameover,"onUpdate:modelValue":t[3]||(t[3]=e=>u.gameover=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(f,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Uk)(" You collided with a wall, so please close the game and restart it. ")])),_:1}),(0,a.Wm)(f,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Your score is "+(0,o.zw)(u.score)+". ",1)])),_:1}),(0,a.Wm)(y,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(p,{flat:"",label:"EXIT",class:"text-white bg-black",onClick:t[2]||(t[2]=e=>u.play=!1)},null,512),[[w]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}const u={class:"content flex flex-center q-pl-xs q-pr-xs q-pt-sm q-pb-sm"};function m(e,t,n,l,i,s){return(0,a.wg)(),(0,a.iD)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.mapData,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"row"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,n)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"column"},[(0,a._)("div",{class:(0,o.C_)(["cell",s.getClass(n,t,e)])},null,2)])))),128))])))),128))])}n(121);var h={name:"SnakeGame",components:{},data(){return{mapData:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],cellClass:["path","block"],playerHeadState:[2,4],playerStates:[[2,4]],enemyHeadState:[10,6],enemyStates:[[10,6],[9,6],[8,6]],playerMoveInterval:null,enemyMoveInterval:null,enemyExpandInterval:null,foodState:[4,2],direction:"→",zeroIndices:null,gameover:!1}},mounted(){window.addEventListener("keydown",this.onKeydown),this.playerMoveInterval=setInterval(this.movePlayer,250),this.enemyMoveInterval=setInterval(this.moveEnemy,250),this.enemyExpandInterval=setInterval(this.expandEnemy,1e4)},methods:{getClass(e,t,n){return this.isPlayerHead(e,t)?"player-head":this.isPlayer(e,t)?"player":this.isEnemyHead(e,t)?"enemy-head":this.isEnemy(e,t)?"enemy":this.isFood(e,t)?"food":this.cellClass[n]},isPlayerHead(e,t){return this.playerHeadState[0]==t&&this.playerHeadState[1]==e},isEnemyHead(e,t){return this.enemyHeadState[0]==t&&this.enemyHeadState[1]==e},isFood(e,t){return this.foodState[0]==t&&this.foodState[1]==e},isPlayer(e,t){for(const n in this.playerStates){const a=this.playerStates[n];if(a[0]==t&&a[1]==e)return!0}return!1},isEnemy(e,t){for(const n in this.enemyStates){const a=this.enemyStates[n];if(a[0]==t&&a[1]==e)return!0}return!1},onKeydown(e){switch(e.keyCode){case 38:this.direction="↑";break;case 40:this.direction="↓";break;case 37:this.direction="←";break;case 39:this.direction="→";break}},movePlayer(){var e=JSON.parse(JSON.stringify(this.playerHeadState));switch(this.direction){case"↑":e[0]--;break;case"↓":e[0]++;break;case"←":e[1]--;break;case"→":e[1]++;break}this.handleState(e)},handleState(e){const[t,n]=e;if(1==this.mapData[t][n]||this.isEnemy(n,t))this.clearAllInterval(),this.$emit("on-gameover",this.playerStates.length);else if(this.foodState[0]==t&&this.foodState[1]==n){const t=JSON.parse(JSON.stringify(this.playerStates.slice(-1)[0]));this.playerStates.push(t),this.handleHeadState(e),this.handleStates(),this.changeFoodState()}else this.handleHeadState(e),this.handleStates()},handleHeadState(e){this.playerHeadState=e},handleStates(){this.playerStates.pop(),this.playerStates.unshift(JSON.parse(JSON.stringify(this.playerHeadState)))},moveEnemy(){var e=Math.floor(4*Math.random()),t=JSON.parse(JSON.stringify(this.enemyHeadState));switch(e){case 0:t[0]--;break;case 1:t[0]++;break;case 2:t[1]--;break;case 3:t[1]++;break}this.enemyHandleState(t)},enemyHandleState(e){const[t,n]=e;1!=this.mapData[t][n]&&(this.isPlayer(n,t)?(this.clearAllInterval(),this.$emit("on-gameover",this.playerStates.length)):(this.enemyHandleHeadState(e),this.enemyHandleStates()))},enemyHandleHeadState(e){this.enemyHeadState=e},enemyHandleStates(){this.enemyStates.pop(),this.enemyStates.unshift(JSON.parse(JSON.stringify(this.enemyHeadState)))},expandEnemy(){const e=JSON.parse(JSON.stringify(this.enemyStates.slice(-1)[0]));this.enemyStates.push(e)},clearAllInterval(){clearInterval(this.playerMoveInterval),clearInterval(this.enemyMoveInterval),clearInterval(this.enemyExpandInterval)},changeFoodState(){this.foodState=this.getRandomZeroIndex()},to_gameover(){this.gameover=!0},getRandomZeroIndex(){return null===this.zeroIndices&&(this.zeroIndices=this.getZeroIndices()),this.zeroIndices[Math.floor(Math.random()*this.zeroIndices.length)]},getZeroIndices(){const e=JSON.parse(JSON.stringify(this.mapData)),t=[];for(let n=0;n<e.length;n++)for(let a=0;a<e[n].length;a++)0===e[n][a]&&t.push([n,a]);return t}}},p=n(7617);const v=(0,p.Z)(h,[["render",m]]);var f=v,y={name:"SnakeGame",components:{GameDisplay:f},emits:["is-gameover"],data(){return{play:!1,gameover:!1,score:0}},mounted(){},methods:{onGameover(e){this.score=e,this.gameover=!0}}},g=n(8906),S=n(5492),w=n(6237),k=n(5102),q=n(5573),b=n(7933),x=n(6380);function _(){let e;const t=(0,a.FN)();function n(){e=void 0}return(0,a.se)(n),(0,a.Jd)(n),{removeTick:n,registerTick(n){e=n,(0,a.Y3)((()=>{e===n&&(!1===(0,x.$D)(t)&&e(),e=void 0)}))}}}var H=n(9216);const E={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function C(e,t=(()=>{}),n=(()=>{})){return{transitionProps:(0,a.Fl)((()=>{const a=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}})),transitionStyle:(0,a.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}n(3027);let I=[],O=[];function D(e){O=O.filter((t=>t!==e))}function P(e){D(e),O.push(e)}function B(e){D(e),0===O.length&&0!==I.length&&(I[I.length-1](),I=[])}function F(e){0===O.length?e():I.push(e)}var N=n(4233);const $=[],T=[];let L=1,M=document.body;function Q(e,t){const n=document.createElement("div");if(n.id=void 0!==t?`q-portal--${t}--${L++}`:e,void 0!==N.w6.globalNodes){const e=N.w6.globalNodes.class;void 0!==e&&(n.className=e)}return M.appendChild(n),$.push(n),T.push(t),n}function z(e){const t=$.indexOf(e);$.splice(t,1),T.splice(t,1),e.remove()}const J=[];function R(e){return J.find((t=>null!==t.contentEl&&t.contentEl.contains(e)))}function Z(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,x.O2)(e)}else if(!0===e.__qPortal){const n=(0,x.O2)(e);return void 0!==n&&"QPopupProxy"===n.$options.name?(e.hide(t),n):e}e=(0,x.O2)(e)}while(void 0!==e&&null!==e)}function A(e,t,n){while(0!==n&&void 0!==e&&null!==e){if(!0===e.__qPortal){if(n--,"QMenu"===e.$options.name){e=Z(e,t);continue}e.hide(t)}e=(0,x.O2)(e)}}var K=n(3613);function W(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function G(e,t,n,o){const l=(0,w.iH)(!1),i=(0,w.iH)(!1);let s=null;const r={},d="dialog"===o&&W(e);function c(t){if(!0===t)return B(r),void(i.value=!0);i.value=!1,!1===l.value&&(!1===d&&null===s&&(s=Q(!1,o)),l.value=!0,J.push(e.proxy),P(r))}function u(t){if(i.value=!1,!0!==t)return;B(r),l.value=!1;const n=J.indexOf(e.proxy);-1!==n&&J.splice(n,1),null!==s&&(z(s),s=null)}return(0,a.Ah)((()=>{u(!0)})),e.proxy.__qPortal=!0,(0,K.g)(e.proxy,"contentEl",(()=>t.value)),{showPortal:c,hidePortal:u,portalIsActive:l,portalIsAccessible:i,renderPortal:()=>!0===d?n():!0===l.value?[(0,a.h)(a.lR,{to:s},n())]:void 0}}var Y=n(5296),V=n(3856),U=n(6145),j=n(64),X=n(1013),ee=n(6809);const te=[];let ne;function ae(e){ne=27===e.keyCode}function oe(){!0===ne&&(ne=!1)}function le(e){!0===ne&&(ne=!1,!0===(0,ee.So)(e,27)&&te[te.length-1](e))}function ie(e){window[e]("keydown",ae),window[e]("blur",oe),window[e]("keyup",le),ne=!1}function se(e){!0===X.client.is.desktop&&(te.push(e),1===te.length&&ie("addEventListener"))}function re(e){const t=te.indexOf(e);t>-1&&(te.splice(t,1),0===te.length&&ie("removeEventListener"))}const de=[];function ce(e){de[de.length-1](e)}function ue(e){!0===X.client.is.desktop&&(de.push(e),1===de.length&&document.body.addEventListener("focusin",ce))}function me(e){const t=de.indexOf(e);t>-1&&(de.splice(t,1),0===de.length&&document.body.removeEventListener("focusin",ce))}let he=0;const pe={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ve={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var fe=(0,V.L)({name:"QDialog",inheritAttrs:!1,props:{...H.vr,...E,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...H.gH,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const l=(0,a.FN)(),i=(0,w.iH)(null),s=(0,w.iH)(!1),r=(0,w.iH)(!1);let d,c,u=null,m=null;const h=(0,a.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:p}=(0,Y.Z)(),{registerTimeout:v}=(0,b.Z)(),{registerTick:f,removeTick:y}=_(),{transitionProps:g,transitionStyle:S}=C(e,(()=>ve[e.position][0]),(()=>ve[e.position][1])),{showPortal:x,hidePortal:E,portalIsAccessible:I,renderPortal:O}=G(l,i,X,"dialog"),{hide:D}=(0,H.ZP)({showing:s,hideOnRouteChange:h,handleShow:M,handleHide:Q,processOnMount:!0}),{addToHistory:P,removeFromHistory:B}=(0,q.Z)(s,D,h),N=(0,a.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${pe[e.position]}`+(!0===r.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),$=(0,a.Fl)((()=>!0===s.value&&!0!==e.seamless)),T=(0,a.Fl)((()=>!0===e.autoClose?{onClick:K}:{})),L=(0,a.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===$.value?"modal":"seamless"),o.class]));function M(t){P(),m=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,A(e.maximized),x(),r.value=!0,!0!==e.noFocus?(null!==document.activeElement&&document.activeElement.blur(),f(z)):y(),v((()=>{if(!0===l.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,a=void 0!==window.visualViewport?window.visualViewport.height:n;e>0&&t>a/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-a,t>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+t-a/2))),document.activeElement.scrollIntoView()}c=!0,i.value.click(),c=!1}x(!0),r.value=!1,n("show",t)}),e.transitionDuration)}function Q(t){y(),B(),Z(!0),r.value=!0,E(),null!==m&&(((t&&0===t.type.indexOf("key")?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),v((()=>{E(!0),r.value=!1,n("hide",t)}),e.transitionDuration)}function z(e){F((()=>{let t=i.value;null!==t&&!0!==t.contains(document.activeElement)&&(t=(""!==e?t.querySelector(e):null)||t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}))}function J(e){e&&"function"===typeof e.focus?e.focus({preventScroll:!0}):z(),n("shake");const t=i.value;null!==t&&(t.classList.remove("q-animate--scale"),t.classList.add("q-animate--scale"),null!==u&&clearTimeout(u),u=setTimeout((()=>{u=null,null!==i.value&&(t.classList.remove("q-animate--scale"),z())}),170))}function R(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&J():(n("escapeKey"),D()))}function Z(t){null!==u&&(clearTimeout(u),u=null),!0!==t&&!0!==s.value||(A(!1),!0!==e.seamless&&(p(!1),me(V),re(R))),!0!==t&&(m=null)}function A(e){!0===e?!0!==d&&(he<1&&document.body.classList.add("q-body--dialog"),he++,d=!0):!0===d&&(he<2&&document.body.classList.remove("q-body--dialog"),he--,d=!1)}function K(e){!0!==c&&(D(e),n("click",e))}function W(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?D(t):!0!==e.noShake&&J()}function V(t){!0!==e.allowFocusOutside&&!0===I.value&&!0!==(0,U.mY)(i.value,t.target)&&z('[tabindex]:not([tabindex="-1"])')}function X(){return(0,a.h)("div",{role:"dialog","aria-modal":!0===$.value?"true":"false",...o,class:L.value},[(0,a.h)(k.uT,{name:"q-transition--fade",appear:!0},(()=>!0===$.value?(0,a.h)("div",{class:"q-dialog__backdrop fixed-full",style:S.value,"aria-hidden":"true",tabindex:-1,onClick:W}):null)),(0,a.h)(k.uT,g.value,(()=>!0===s.value?(0,a.h)("div",{ref:i,class:N.value,style:S.value,tabindex:-1,...T.value},(0,j.KR)(t.default)):null))])}return(0,a.YP)((()=>e.maximized),(e=>{!0===s.value&&A(e)})),(0,a.YP)($,(e=>{p(e),!0===e?(ue(V),se(R)):(me(V),re(R))})),Object.assign(l.proxy,{focus:z,shake:J,__updateRefocusTarget(e){m=e||null}}),(0,a.Jd)(Z),O}}),ye=n(6597),ge=(0,V.L)({name:"QCard",props:{...ye.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,a.FN)(),o=(0,ye.Z)(e,n),l=(0,a.Fl)((()=>"q-card"+(!0===o.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,a.h)(e.tag,{class:l.value},(0,j.KR)(t.default))}}),Se=(0,V.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=(0,a.Fl)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,a.h)(e.tag,{class:n.value},(0,j.KR)(t.default))}}),we=n(3994),ke=(0,V.L)({name:"QCardActions",props:{...we.jO,vertical:Boolean},setup(e,{slots:t}){const n=(0,we.ZP)(e),o=(0,a.Fl)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===e.vertical?"vert column":"horiz row")));return()=>(0,a.h)("div",{class:o.value},(0,j.KR)(t.default))}});function qe(e){if(!1===e)return 0;if(!0===e||void 0===e)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var be=(0,V.f)({name:"close-popup",beforeMount(e,{value:t}){const n={depth:qe(t),handler(t){0!==n.depth&&setTimeout((()=>{const a=R(e);void 0!==a&&A(a,t,n.depth)}))},handlerKey(e){!0===(0,ee.So)(e,13)&&n.handler(e)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=qe(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),xe=n(1410),_e=n.n(xe);const He=(0,p.Z)(y,[["render",c]]);var Ee=He;_e()(y,"components",{QPage:g.Z,QBtn:S.Z,QDialog:fe,QCard:ge,QCardSection:Se,QCardActions:ke}),_e()(y,"directives",{ClosePopup:be})}}]);
//# sourceMappingURL=snake.da1d3ce4.js.map