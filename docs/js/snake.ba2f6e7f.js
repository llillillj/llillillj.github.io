"use strict";(self["webpackChunkakiyuki"]=self["webpackChunkakiyuki"]||[]).push([[722],{2461:function(e,t,n){n.r(t),n.d(t,{default:function(){return De}});var o=n(9269);const a=(0,o._)("p",{class:"text-h3"},"Snake Game",-1),i={key:0,class:"content flex flex-center q-pl-xs q-pr-xs q-pt-sm q-pb-sm bg-dark q-gutter-y-md"},l=(0,o._)("p",{class:"q-mt-md"}," This game is called snake game. You can control the snkae with your direction keys. ",-1),s=(0,o._)("p",null,"The snake will graw on getting light green items.",-1),r=(0,o._)("div",{class:"text-h6"},"GAME OVER",-1);function u(e,t,n,u,d,c){const p=(0,o.up)("GameDisplay"),m=(0,o.up)("q-btn"),h=(0,o.up)("q-page"),f=(0,o.up)("q-card-section"),v=(0,o.up)("q-card-actions"),g=(0,o.up)("q-card"),y=(0,o.up)("q-dialog"),w=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(h,{class:"flex flex-center column q-pa-md"},{default:(0,o.w5)((()=>[a,d.play?((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(p,{onOnGameover:c.onGameover},null,8,["onOnGameover"]),(0,o.Wm)(m,{color:"white",class:"text-black",onClick:t[0]||(t[0]=e=>d.play=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("Quit game")])),_:1})])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(m,{color:"white",class:"text-black",onClick:t[1]||(t[1]=e=>d.play=!0)},{default:(0,o.w5)((()=>[(0,o.Uk)("Start")])),_:1}),l,s],64))])),_:1}),(0,o.Wm)(y,{modelValue:d.gameover,"onUpdate:modelValue":t[3]||(t[3]=e=>d.gameover=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[r])),_:1}),(0,o.Wm)(f,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Uk)(" You collided with a wall, so please close the game and restart it. ")])),_:1}),(0,o.Wm)(v,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(m,{flat:"",label:"EXIT",class:"text-white bg-black",onClick:t[2]||(t[2]=e=>d.play=!1)},null,512),[[w]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var d=n(3201);const c={class:"content flex flex-center q-pl-xs q-pr-xs q-pt-sm q-pb-sm"};function p(e,t,n,a,i,l){return(0,o.wg)(),(0,o.iD)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.mapData,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,n)=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"column"},[(0,o._)("div",{class:(0,d.C_)(["cell",l.getClass(n,t,e)])},null,2)])))),128))])))),128))])}n(121);var m={name:"SnakeGame",components:{},data(){return{mapData:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],cellClass:["path","block"],playerHeadState:[2,4],playerStates:[[2,4]],foodState:[4,2],direction:"→",zeroIndices:null,gameover:!1}},mounted(){window.addEventListener("keydown",this.onKeydown),setInterval(this.movePlayer,250)},methods:{getClass(e,t,n){return this.isPlayer(e,t)?"player":this.isFood(e,t)?"food":this.cellClass[n]},isFood(e,t){return this.foodState[0]==t&&this.foodState[1]==e},isPlayer(e,t){for(const n in this.playerStates){const o=this.playerStates[n];if(o[0]==t&&o[1]==e)return!0}return!1},onKeydown(e){switch(e.keyCode){case 38:this.direction="↑";break;case 40:this.direction="↓";break;case 37:this.direction="←";break;case 39:this.direction="→";break}},movePlayer(){var e=JSON.parse(JSON.stringify(this.playerHeadState));switch(this.direction){case"↑":e[0]--;break;case"↓":e[0]++;break;case"←":e[1]--;break;case"→":e[1]++;break}this.handleState(e)},handleState(e){const[t,n]=e;if(1==this.mapData[t][n])this.$emit("on-gameover");else if(this.foodState[0]==t&&this.foodState[1]==n){const t=JSON.parse(JSON.stringify(this.playerStates.slice(-1)[0]));this.playerStates.push(t),this.handleHeadState(e),this.handleStates(),this.changeFoodState()}else this.handleHeadState(e),this.handleStates()},handleHeadState(e){this.playerHeadState=e},handleStates(){this.playerStates.pop(),this.playerStates.unshift(JSON.parse(JSON.stringify(this.playerHeadState)))},changeFoodState(){this.foodState=this.getRandomZeroIndex()},to_gameover(){this.gameover=!0},getRandomZeroIndex(){return null===this.zeroIndices&&(this.zeroIndices=this.getZeroIndices()),this.zeroIndices[Math.floor(Math.random()*this.zeroIndices.length)]},getZeroIndices(){const e=JSON.parse(JSON.stringify(this.mapData)),t=[];for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)0===e[n][o]&&t.push([n,o]);return t}}},h=n(7617);const f=(0,h.Z)(m,[["render",p]]);var v=f,g={name:"SnakeGame",components:{GameDisplay:v},emits:["is-gameover"],data(){return{play:!1,gameover:!1}},mounted(){},methods:{onGameover(){this.gameover=!0}}},y=n(8906),w=n(5492),k=n(6237),S=n(5102),q=n(5573),b=n(7933),_=n(6380);function x(){let e;const t=(0,o.FN)();function n(){e=void 0}return(0,o.se)(n),(0,o.Jd)(n),{removeTick:n,registerTick(n){e=n,(0,o.Y3)((()=>{e===n&&(!1===(0,_.$D)(t)&&e(),e=void 0)}))}}}var C=n(9216);const D={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function E(e,t=(()=>{}),n=(()=>{})){return{transitionProps:(0,o.Fl)((()=>{const o=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}})),transitionStyle:(0,o.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}n(3027);let H=[],O=[];function B(e){O=O.filter((t=>t!==e))}function F(e){B(e),O.push(e)}function P(e){B(e),0===O.length&&0!==H.length&&(H[H.length-1](),H=[])}function $(e){0===O.length?e():H.push(e)}var T=n(4233);const L=[],Q=[];let N=1,z=document.body;function I(e,t){const n=document.createElement("div");if(n.id=void 0!==t?`q-portal--${t}--${N++}`:e,void 0!==T.w6.globalNodes){const e=T.w6.globalNodes.class;void 0!==e&&(n.className=e)}return z.appendChild(n),L.push(n),Q.push(t),n}function R(e){const t=L.indexOf(e);L.splice(t,1),Q.splice(t,1),e.remove()}const Z=[];function K(e){return Z.find((t=>null!==t.contentEl&&t.contentEl.contains(e)))}function W(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,_.O2)(e)}else if(!0===e.__qPortal){const n=(0,_.O2)(e);return void 0!==n&&"QPopupProxy"===n.$options.name?(e.hide(t),n):e}e=(0,_.O2)(e)}while(void 0!==e&&null!==e)}function G(e,t,n){while(0!==n&&void 0!==e&&null!==e){if(!0===e.__qPortal){if(n--,"QMenu"===e.$options.name){e=W(e,t);continue}e.hide(t)}e=(0,_.O2)(e)}}var A=n(3613);function J(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function M(e,t,n,a){const i=(0,k.iH)(!1),l=(0,k.iH)(!1);let s=null;const r={},u="dialog"===a&&J(e);function d(t){if(!0===t)return P(r),void(l.value=!0);l.value=!1,!1===i.value&&(!1===u&&null===s&&(s=I(!1,a)),i.value=!0,Z.push(e.proxy),F(r))}function c(t){if(l.value=!1,!0!==t)return;P(r),i.value=!1;const n=Z.indexOf(e.proxy);-1!==n&&Z.splice(n,1),null!==s&&(R(s),s=null)}return(0,o.Ah)((()=>{c(!0)})),e.proxy.__qPortal=!0,(0,A.g)(e.proxy,"contentEl",(()=>t.value)),{showPortal:d,hidePortal:c,portalIsActive:i,portalIsAccessible:l,renderPortal:()=>!0===u?n():!0===i.value?[(0,o.h)(o.lR,{to:s},n())]:void 0}}var Y=n(5296),V=n(3856),U=n(6145),j=n(64),X=n(1013),ee=n(6809);const te=[];let ne;function oe(e){ne=27===e.keyCode}function ae(){!0===ne&&(ne=!1)}function ie(e){!0===ne&&(ne=!1,!0===(0,ee.So)(e,27)&&te[te.length-1](e))}function le(e){window[e]("keydown",oe),window[e]("blur",ae),window[e]("keyup",ie),ne=!1}function se(e){!0===X.client.is.desktop&&(te.push(e),1===te.length&&le("addEventListener"))}function re(e){const t=te.indexOf(e);t>-1&&(te.splice(t,1),0===te.length&&le("removeEventListener"))}const ue=[];function de(e){ue[ue.length-1](e)}function ce(e){!0===X.client.is.desktop&&(ue.push(e),1===ue.length&&document.body.addEventListener("focusin",de))}function pe(e){const t=ue.indexOf(e);t>-1&&(ue.splice(t,1),0===ue.length&&document.body.removeEventListener("focusin",de))}let me=0;const he={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},fe={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var ve=(0,V.L)({name:"QDialog",inheritAttrs:!1,props:{...C.vr,...D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...C.gH,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:a}){const i=(0,o.FN)(),l=(0,k.iH)(null),s=(0,k.iH)(!1),r=(0,k.iH)(!1);let u,d,c=null,p=null;const m=(0,o.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:h}=(0,Y.Z)(),{registerTimeout:f}=(0,b.Z)(),{registerTick:v,removeTick:g}=x(),{transitionProps:y,transitionStyle:w}=E(e,(()=>fe[e.position][0]),(()=>fe[e.position][1])),{showPortal:_,hidePortal:D,portalIsAccessible:H,renderPortal:O}=M(i,l,X,"dialog"),{hide:B}=(0,C.ZP)({showing:s,hideOnRouteChange:m,handleShow:z,handleHide:I,processOnMount:!0}),{addToHistory:F,removeFromHistory:P}=(0,q.Z)(s,B,m),T=(0,o.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${he[e.position]}`+(!0===r.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),L=(0,o.Fl)((()=>!0===s.value&&!0!==e.seamless)),Q=(0,o.Fl)((()=>!0===e.autoClose?{onClick:A}:{})),N=(0,o.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===L.value?"modal":"seamless"),a.class]));function z(t){F(),p=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,G(e.maximized),_(),r.value=!0,!0!==e.noFocus?(null!==document.activeElement&&document.activeElement.blur(),v(R)):g(),f((()=>{if(!0===i.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,o=void 0!==window.visualViewport?window.visualViewport.height:n;e>0&&t>o/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-o,t>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+t-o/2))),document.activeElement.scrollIntoView()}d=!0,l.value.click(),d=!1}_(!0),r.value=!1,n("show",t)}),e.transitionDuration)}function I(t){g(),P(),W(!0),r.value=!0,D(),null!==p&&(((t&&0===t.type.indexOf("key")?p.closest('[tabindex]:not([tabindex^="-"])'):void 0)||p).focus(),p=null),f((()=>{D(!0),r.value=!1,n("hide",t)}),e.transitionDuration)}function R(e){$((()=>{let t=l.value;null!==t&&!0!==t.contains(document.activeElement)&&(t=(""!==e?t.querySelector(e):null)||t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}))}function Z(e){e&&"function"===typeof e.focus?e.focus({preventScroll:!0}):R(),n("shake");const t=l.value;null!==t&&(t.classList.remove("q-animate--scale"),t.classList.add("q-animate--scale"),null!==c&&clearTimeout(c),c=setTimeout((()=>{c=null,null!==l.value&&(t.classList.remove("q-animate--scale"),R())}),170))}function K(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&Z():(n("escapeKey"),B()))}function W(t){null!==c&&(clearTimeout(c),c=null),!0!==t&&!0!==s.value||(G(!1),!0!==e.seamless&&(h(!1),pe(V),re(K))),!0!==t&&(p=null)}function G(e){!0===e?!0!==u&&(me<1&&document.body.classList.add("q-body--dialog"),me++,u=!0):!0===u&&(me<2&&document.body.classList.remove("q-body--dialog"),me--,u=!1)}function A(e){!0!==d&&(B(e),n("click",e))}function J(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?B(t):!0!==e.noShake&&Z()}function V(t){!0!==e.allowFocusOutside&&!0===H.value&&!0!==(0,U.mY)(l.value,t.target)&&R('[tabindex]:not([tabindex="-1"])')}function X(){return(0,o.h)("div",{role:"dialog","aria-modal":!0===L.value?"true":"false",...a,class:N.value},[(0,o.h)(S.uT,{name:"q-transition--fade",appear:!0},(()=>!0===L.value?(0,o.h)("div",{class:"q-dialog__backdrop fixed-full",style:w.value,"aria-hidden":"true",tabindex:-1,onClick:J}):null)),(0,o.h)(S.uT,y.value,(()=>!0===s.value?(0,o.h)("div",{ref:l,class:T.value,style:w.value,tabindex:-1,...Q.value},(0,j.KR)(t.default)):null))])}return(0,o.YP)((()=>e.maximized),(e=>{!0===s.value&&G(e)})),(0,o.YP)(L,(e=>{h(e),!0===e?(ce(V),se(K)):(pe(V),re(K))})),Object.assign(i.proxy,{focus:R,shake:Z,__updateRefocusTarget(e){p=e||null}}),(0,o.Jd)(W),O}}),ge=n(6597),ye=(0,V.L)({name:"QCard",props:{...ge.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,o.FN)(),a=(0,ge.Z)(e,n),i=(0,o.Fl)((()=>"q-card"+(!0===a.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,o.h)(e.tag,{class:i.value},(0,j.KR)(t.default))}}),we=(0,V.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=(0,o.Fl)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,o.h)(e.tag,{class:n.value},(0,j.KR)(t.default))}}),ke=n(3994),Se=(0,V.L)({name:"QCardActions",props:{...ke.jO,vertical:Boolean},setup(e,{slots:t}){const n=(0,ke.ZP)(e),a=(0,o.Fl)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===e.vertical?"vert column":"horiz row")));return()=>(0,o.h)("div",{class:a.value},(0,j.KR)(t.default))}});function qe(e){if(!1===e)return 0;if(!0===e||void 0===e)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var be=(0,V.f)({name:"close-popup",beforeMount(e,{value:t}){const n={depth:qe(t),handler(t){0!==n.depth&&setTimeout((()=>{const o=K(e);void 0!==o&&G(o,t,n.depth)}))},handlerKey(e){!0===(0,ee.So)(e,13)&&n.handler(e)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=qe(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),_e=n(1410),xe=n.n(_e);const Ce=(0,h.Z)(g,[["render",u]]);var De=Ce;xe()(g,"components",{QPage:y.Z,QBtn:w.Z,QDialog:ve,QCard:ye,QCardSection:we,QCardActions:Se}),xe()(g,"directives",{ClosePopup:be})}}]);
//# sourceMappingURL=snake.ba2f6e7f.js.map