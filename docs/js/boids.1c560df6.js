"use strict";(self["webpackChunkakiyuki"]=self["webpackChunkakiyuki"]||[]).push([[680],{3270:function(e,a,t){t.r(a),t.d(a,{default:function(){return F}});t(4645),t(4564),t(4329);var l=t(4220),n=t(7700),r=t(6732);const i={class:"q-gutter-md q-mt-md"},o={class:"q-gutter-md q-mt-md row bg-dark rounded-borders q-pt-sm q-pb-xl q-pl-md q-pr-md"},s={class:"row items-center"},u={class:"q-mr-md"},v={class:"q-mt-lg q-pa-xl q-gutter-y-md"},c={class:"row justify-center q-gutter-lg q-mt-md q-mb-xl"},d=800,m=600,h=.05,b=.005;var p={__name:"BoidsAlgorithm",setup(e){const a=(0,r.KR)(null),t=(0,r.KR)([]);let p=null;const g=(0,r.KR)(20),x=(0,r.KR)([{label:"分離半径",value:50,min:10,max:100,step:1,key:"separationDistance"},{label:"整列半径",value:100,min:10,max:200,step:1,key:"alignmentDistance"},{label:"結合半径",value:150,min:10,max:300,step:1,key:"cohesionDistance"},{label:"分離重み",value:1,min:0,max:5,step:.1,key:"separationWeight"},{label:"整列重み",value:1,min:0,max:5,step:.1,key:"alignmentWeight"},{label:"結合重み",value:1,min:0,max:5,step:.1,key:"cohesionWeight"},{label:"最大速度",value:1,min:.1,max:5,step:.1,key:"maxSpeed"}]),k=(0,r.KR)({separationWeight:1.5,alignmentWeight:1,cohesionWeight:1,separationDistance:20,alignmentDistance:50,cohesionDistance:100,maxSpeed:.5});(0,l.wB)(x,(e=>{e.forEach((e=>{k.value[e.key]=e.value}))}),{deep:!0});const y=()=>{t.value=[];for(let e=0;e<g.value;e++)t.value.push({x:Math.random()*(d-10)+5,y:Math.random()*(m-10)+5,vx:2*Math.random()-1,vy:2*Math.random()-1,ax:0,ay:0})},f=(e,a)=>{let t=e.x-a.x;Math.abs(t)>d/2&&(t=d-Math.abs(t),e.x<a.x&&(t=-t));let l=e.y-a.y;Math.abs(l)>m/2&&(l=m-Math.abs(l),e.y<a.y&&(l=-l));const n=Math.sqrt(t**2+l**2),r=Math.atan2(e.vy,e.vx),i=Math.atan2(l,t),o=Math.abs(r-i)*(180/Math.PI);return{diffX:t,diffY:l,distance:n,angleDifference:o}},M=e=>{const a=e.vx+e.ax,t=e.vy+e.ay,l=Math.sqrt((a-e.vx)**2+(t-e.vy)**2);if(l>b){const l=Math.atan2(t-e.vy,a-e.vx);e.vx=e.vx+Math.cos(l)*b,e.vy=e.vy+Math.sin(l)*b}else e.vx=a,e.vy=t;const n=Math.sqrt(e.vx**2+e.vy**2);n>k.value.maxSpeed&&(e.vx=e.vx/n*k.value.maxSpeed,e.vy=e.vy/n*k.value.maxSpeed),e.x+=e.vx,e.y+=e.vy,e.ax=0,e.ay=0},W=(e,a,t)=>{const l=Math.sqrt(a**2+t**2);l>h&&(a=a/l*h,t=t/l*h),e.ax+=a,e.ay+=t},q=(e,a,t,l,n)=>{const{diffX:r,diffY:i,distance:o,angleDifference:s}=f(e,a);return o<k.value.separationDistance&&s<45&&(t+=r/o,l+=i/o,n++),n>0&&(t/=n,l/=n,W(e,t*k.value.separationWeight,l*k.value.separationWeight)),{separationX:t,separationY:l,separationCount:n}},E=(e,a,t,l,n)=>{const{distance:r,angleDifference:i}=f(e,a);return r<k.value.alignmentDistance&&i<45&&(t+=a.vx,l+=a.vy,n++),n>0&&(t/=n,l/=n,W(e,(t-e.vx)*k.value.alignmentWeight/8,(l-e.vy)*k.value.alignmentWeight/8)),{alignmentX:t,alignmentY:l,alignmentCount:n}},C=(e,a,t,l,n)=>{const{distance:r,angleDifference:i}=f(e,a);if(r<k.value.cohesionDistance&&i<45&&(t+=a.x,l+=a.y,n++),n>0){t/=n,l/=n;let a=t-e.x;Math.abs(a)>d/2&&(a=d-Math.abs(a),e.x<t&&(a=-a));let r=l-e.y;Math.abs(r)>m/2&&(r=m-Math.abs(r),e.y<l&&(r=-r)),W(e,a*k.value.cohesionWeight/100,r*k.value.cohesionWeight/100)}return{cohesionX:t,cohesionY:l,cohesionCount:n}},$=()=>{t.value.forEach((e=>{let a=0,l=0,n=0,r=0,i=0,o=0,s=0,u=0,v=0;if(t.value.forEach((t=>{if(t!==e){const c=q(e,t,a,l,n);a=c.separationX,l=c.separationY,n=c.separationCount;const d=E(e,t,r,i,o);r=d.alignmentX,i=d.alignmentY,o=d.alignmentCount;const m=C(e,t,s,u,v);s=m.cohesionX,u=m.cohesionY,v=m.cohesionCount}})),n>0&&(a/=n,l/=n,e.ax+=a*k.value.separationWeight,e.ay+=l*k.value.separationWeight),o>0&&(r/=o,i/=o,e.ax+=(r-e.vx)*k.value.alignmentWeight/8,e.ay+=(i-e.vy)*k.value.alignmentWeight/8),v>0){s/=v,u/=v;let a=s-e.x;Math.abs(a)>d/2&&(a=d-Math.abs(a),e.x<s&&(a=-a));let t=u-e.y;Math.abs(t)>m/2&&(t=m-Math.abs(t),e.y<u&&(t=-t)),e.ax+=a*k.value.cohesionWeight/100,e.ay+=t*k.value.cohesionWeight/100}if(0===n&&0===o&&0===v){const a=.02;e.ax+=a*Math.cos(Math.PI/4),e.ay+=a*Math.sin(Math.PI/4)}const c=.005,h=(Math.random()-.5)*c,b=(Math.random()-.5)*c;e.ax+=h,e.ay+=b,M(e),e.x<5?e.x=d-5:e.x>d-5&&(e.x=5),e.y<5?e.y=m-5:e.y>m-5&&(e.y=5)}))},L=e=>{const t=a.value.getContext("2d"),l=10,n=Math.atan2(e.vy,e.vx),r=e.x+Math.cos(n)*l,i=e.y+Math.sin(n)*l,o=e.x+Math.cos(n+2.5*Math.PI/3)*l,s=e.y+Math.sin(n+2.5*Math.PI/3)*l,u=e.x+Math.cos(n-2.5*Math.PI/3)*l,v=e.y+Math.sin(n-2.5*Math.PI/3)*l;t.fillStyle="orange",t.beginPath(),t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,v),t.closePath(),t.fill()},S=()=>{const e=a.value.getContext("2d");e.clearRect(0,0,d,m),t.value.forEach((e=>{L(e)}))},w=()=>{$(),S(),p=requestAnimationFrame(w)},_=()=>{p||w()},R=()=>{p&&(cancelAnimationFrame(p),p=null)};return(0,l.wB)(g,(()=>{y()})),(0,l.sV)((()=>{y(),_()})),(0,l.hi)((()=>{R()})),(e,t)=>{const r=(0,l.g2)("q-btn"),h=(0,l.g2)("q-slider"),b=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(b,{class:"flex flex-center column"},{default:(0,l.k6)((()=>[t[11]||(t[11]=(0,l.Lk)("div",{class:"q-mb-lg"},[(0,l.Lk)("span",{class:"text-h3"},"Boids Algorithm")],-1)),(0,l.Lk)("div",null,[(0,l.Lk)("div",{class:"border",style:(0,n.Tr)({width:`${d+25}px`,height:`${m+25}px`})},[(0,l.Lk)("canvas",{class:"q-ma-sm",ref_key:"canvas",ref:a,width:d,height:m},null,512)],4)]),(0,l.Lk)("div",i,[(0,l.bF)(r,{outline:"",onClick:_},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("アニメーション開始")]))),_:1}),(0,l.bF)(r,{outline:"",onClick:R},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("アニメーション停止")]))),_:1})]),(0,l.Lk)("div",o,[(0,l.Lk)("div",s,[t[3]||(t[3]=(0,l.Lk)("span",{class:"q-mr-md"},"個体数",-1)),(0,l.bF)(h,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),"label-always":"","label-color":"grey-8","label-text-color":"white","switch-marker-labels-side":"","switch-label-side":"",markers:"",min:10,max:100,step:1},null,8,["modelValue"])]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(x.value,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"row items-center"},[(0,l.Lk)("span",u,(0,n.v_)(e.label),1),(0,l.bF)(h,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,"label-always":"","label-color":"grey-8","label-text-color":"white","switch-marker-labels-side":"","switch-label-side":"",markers:"",min:e.min,max:e.max,step:e.step},null,8,["modelValue","onUpdate:modelValue","min","max","step"])])))),128))]),(0,l.Lk)("div",v,[t[7]||(t[7]=(0,l.Lk)("p",{class:"text-h3 text-center"}," Boids Algorithmとは ",-1)),t[8]||(t[8]=(0,l.Lk)("div",{class:"text-body1 text-center"}," このBoidsアルゴリズムは，鳥の群れの挙動をシミュレートします．各鳥（Boid）は以下の3つのルールに従って行動します． ",-1)),(0,l.Lk)("div",c,[(0,l.Lk)("div",{class:(0,n.C4)(["bg-grey-2 q-pa-md rounded-borders text-black",[e.$q.screen.xs?"col-9":e.$q.screen.sm?"col-5":"col-3"]])},t[4]||(t[4]=[(0,l.Lk)("p",{class:"text-subtitle1 text-center"},[(0,l.Lk)("strong",null,"分離 (Separation)")],-1),(0,l.Lk)("p",{class:"text-body1 text-center"}," 近くの他の鳥との半径が一定以下にならないように，衝突を避けるように方向を変えます． ",-1)]),2),(0,l.Lk)("div",{class:(0,n.C4)(["bg-grey-2 q-pa-md rounded-borders text-black",[e.$q.screen.xs?"col-9":e.$q.screen.sm?"col-5":"col-3"]])},t[5]||(t[5]=[(0,l.Lk)("p",{class:"text-subtitle1 text-center"},[(0,l.Lk)("strong",null,"整列 (Alignment)")],-1),(0,l.Lk)("p",{class:"text-body1 text-center"}," 近くの他の鳥の平均的な速度と方向へ向かうように方向を変えます． ",-1)]),2),(0,l.Lk)("div",{class:(0,n.C4)(["bg-grey-2 q-pa-md rounded-borders text-black",[e.$q.screen.xs?"col-9":e.$q.screen.sm?"col-5":"col-3"]])},t[6]||(t[6]=[(0,l.Lk)("p",{class:"text-subtitle1 text-center"},[(0,l.Lk)("strong",null,"結合 (Cohesion)")],-1),(0,l.Lk)("p",{class:"text-body1 text-center"}," 近くの他の鳥の平均位置へ向かうように方向を変えます． ",-1)]),2)]),t[9]||(t[9]=(0,l.Lk)("div",{class:"text-body1 text-center"}," これらのルールを各鳥に適用することで，群れ全体としてまとまりのある，自然な動きが生まれます．各ルールの影響度や，近傍とみなす半径は，スライダーで調整可能です． ",-1)),t[10]||(t[10]=(0,l.Lk)("div",{class:"text-body1 text-center"}," この実装では，画面の端に達した鳥は反対側から出現するようにしています． ",-1))])])),_:1})}}},g=t(1399),x=t(3197),k=t(3749),y=(t(324),t(7578),t(2617)),f=t(5471),M=t(6631),W=t(5055),q=t(8445),E=t(1952);const C="q-slider__marker-labels",$=e=>({value:e}),L=({marker:e})=>(0,l.h)("div",{key:e.value,style:e.style,class:e.classes},e.label),S=[34,37,40,33,39,38],w={...f.C,...k.Sc,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},_=["pan","update:modelValue","change"];function R({updateValue:e,updatePosition:a,getDragging:t,formAttrs:n}){const{props:i,emit:o,slots:s,proxy:{$q:u}}=(0,l.nI)(),v=(0,f.A)(i,u),c=(0,k.vq)(n),d=(0,r.KR)(!1),m=(0,r.KR)(!1),h=(0,r.KR)(!1),b=(0,r.KR)(!1),p=(0,l.EW)((()=>!0===i.vertical?"--v":"--h")),g=(0,l.EW)((()=>"-"+(!0===i.switchLabelSide?"switched":"standard"))),x=(0,l.EW)((()=>!0===i.vertical?!0===i.reverse:i.reverse!==(!0===u.lang.rtl))),w=(0,l.EW)((()=>!0===isNaN(i.innerMin)||i.innerMin<i.min?i.min:i.innerMin)),_=(0,l.EW)((()=>!0===isNaN(i.innerMax)||i.innerMax>i.max?i.max:i.innerMax)),R=(0,l.EW)((()=>!0!==i.disable&&!0!==i.readonly&&w.value<_.value)),T=(0,l.EW)((()=>{if(0===i.step)return e=>e;const e=(String(i.step).trim().split(".")[1]||"").length;return a=>parseFloat(a.toFixed(e))})),V=(0,l.EW)((()=>0===i.step?1:i.step)),B=(0,l.EW)((()=>!0===R.value?i.tabindex||0:-1)),I=(0,l.EW)((()=>i.max-i.min)),A=(0,l.EW)((()=>_.value-w.value)),D=(0,l.EW)((()=>ie(w.value))),F=(0,l.EW)((()=>ie(_.value))),K=(0,l.EW)((()=>!0===i.vertical?!0===x.value?"bottom":"top":!0===x.value?"right":"left")),P=(0,l.EW)((()=>!0===i.vertical?"height":"width")),N=(0,l.EW)((()=>!0===i.vertical?"width":"height")),z=(0,l.EW)((()=>!0===i.vertical?"vertical":"horizontal")),X=(0,l.EW)((()=>{const e={role:"slider","aria-valuemin":w.value,"aria-valuemax":_.value,"aria-orientation":z.value,"data-step":i.step};return!0===i.disable?e["aria-disabled"]="true":!0===i.readonly&&(e["aria-readonly"]="true"),e})),Y=(0,l.EW)((()=>`q-slider q-slider${p.value} q-slider--${!0===d.value?"":"in"}active inline no-wrap `+(!0===i.vertical?"row":"column")+(!0===i.disable?" disabled":" q-slider--enabled"+(!0===R.value?" q-slider--editable":""))+("both"===h.value?" q-slider--focus":"")+(i.label||!0===i.labelAlways?" q-slider--label":"")+(!0===i.labelAlways?" q-slider--label-always":"")+(!0===v.value?" q-slider--dark":"")+(!0===i.dense?" q-slider--dense q-slider--dense"+p.value:"")));function j(e){const a="q-slider__"+e;return`${a} ${a}${p.value} ${a}${p.value}${g.value}`}function G(e){const a="q-slider__"+e;return`${a} ${a}${p.value}`}const Q=(0,l.EW)((()=>{const e=i.selectionColor||i.color;return"q-slider__selection absolute"+(void 0!==e?` text-${e}`:"")})),U=(0,l.EW)((()=>G("markers")+" absolute overflow-hidden")),O=(0,l.EW)((()=>G("track-container"))),H=(0,l.EW)((()=>j("pin"))),J=(0,l.EW)((()=>j("label"))),Z=(0,l.EW)((()=>j("text-container"))),ee=(0,l.EW)((()=>j("marker-labels-container")+(void 0!==i.markerLabelsClass?` ${i.markerLabelsClass}`:""))),ae=(0,l.EW)((()=>"q-slider__track relative-position no-outline"+(void 0!==i.trackColor?` bg-${i.trackColor}`:""))),te=(0,l.EW)((()=>{const e={[N.value]:i.trackSize};return void 0!==i.trackImg&&(e.backgroundImage=`url(${i.trackImg}) !important`),e})),le=(0,l.EW)((()=>"q-slider__inner absolute"+(void 0!==i.innerTrackColor?` bg-${i.innerTrackColor}`:""))),ne=(0,l.EW)((()=>{const e=F.value-D.value,a={[K.value]:100*D.value+"%",[P.value]:0===e?"2px":100*e+"%"};return void 0!==i.innerTrackImg&&(a.backgroundImage=`url(${i.innerTrackImg}) !important`),a}));function re(e){const{min:a,max:t,step:l}=i;let n=a+e*(t-a);if(l>0){const e=(n-w.value)%l;n+=(Math.abs(e)>=l/2?(e<0?-1:1)*l:0)-e}return n=T.value(n),(0,M.Tq)(n,w.value,_.value)}function ie(e){return 0===I.value?0:(e-i.min)/I.value}function oe(e,a){const t=(0,W.G1)(e),l=!0===i.vertical?(0,M.Tq)((t.top-a.top)/a.height,0,1):(0,M.Tq)((t.left-a.left)/a.width,0,1);return(0,M.Tq)(!0===x.value?1-l:l,D.value,F.value)}const se=(0,l.EW)((()=>!0===(0,q.Et)(i.markers)?i.markers:V.value)),ue=(0,l.EW)((()=>{const e=[],a=se.value,t=i.max;let l=i.min;do{e.push(l),l+=a}while(l<t);return e.push(t),e})),ve=(0,l.EW)((()=>{const e=` ${C}${p.value}-`;return C+`${e}${!0===i.switchMarkerLabelsSide?"switched":"standard"}`+`${e}${!0===x.value?"rtl":"ltr"}`})),ce=(0,l.EW)((()=>!1===i.markerLabels?null:he(i.markerLabels).map(((e,a)=>({index:a,value:e.value,label:e.label||e.value,classes:ve.value+(void 0!==e.classes?" "+e.classes:""),style:{...be(e.value),...e.style||{}}}))))),de=(0,l.EW)((()=>({markerList:ce.value,markerMap:pe.value,classes:ve.value,getStyle:be}))),me=(0,l.EW)((()=>{const e=0===A.value?"2px":100*se.value/A.value;return{...ne.value,backgroundSize:!0===i.vertical?`2px ${e}%`:`${e}% 2px`}}));function he(e){if(!1===e)return null;if(!0===e)return ue.value.map($);if("function"===typeof e)return ue.value.map((a=>{const t=e(a);return!0===(0,q.Gv)(t)?{...t,value:a}:{value:a,label:t}}));const a=({value:e})=>e>=i.min&&e<=i.max;return!0===Array.isArray(e)?e.map((e=>!0===(0,q.Gv)(e)?e:{value:e})).filter(a):Object.keys(e).map((a=>{const t=e[a],l=Number(a);return!0===(0,q.Gv)(t)?{...t,value:l}:{value:l,label:t}})).filter(a)}function be(e){return{[K.value]:100*(e-i.min)/I.value+"%"}}const pe=(0,l.EW)((()=>{if(!1===i.markerLabels)return null;const e={};return ce.value.forEach((a=>{e[a.value]=a})),e}));function ge(){if(void 0!==s["marker-label-group"])return s["marker-label-group"](de.value);const e=s["marker-label"]||L;return ce.value.map((a=>e({marker:a,...de.value})))}const xe=(0,l.EW)((()=>[[y.A,ke,void 0,{[z.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]));function ke(l){!0===l.isFinal?(void 0!==b.value&&(a(l.evt),!0===l.touch&&e(!0),b.value=void 0,o("pan","end")),d.value=!1,h.value=!1):!0===l.isFirst?(b.value=t(l.evt),a(l.evt),e(),d.value=!0,o("pan","start")):(a(l.evt),e())}function ye(){h.value=!1}function fe(l){a(l,t(l)),e(),m.value=!0,d.value=!0,document.addEventListener("mouseup",Me,!0)}function Me(){m.value=!1,d.value=!1,e(!0),ye(),document.removeEventListener("mouseup",Me,!0)}function We(l){a(l,t(l)),e(!0)}function qe(a){S.includes(a.keyCode)&&e(!0)}function Ee(e){if(!0===i.vertical)return null;const a=u.lang.rtl!==i.reverse?1-e:e;return{transform:`translateX(calc(${2*a-1} * ${i.thumbSize} / 2 + ${50-100*a}%))`}}function Ce(e){const a=(0,l.EW)((()=>!1!==m.value||h.value!==e.focusValue&&"both"!==h.value?"":" q-slider--focus")),t=(0,l.EW)((()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${!0===x.value?"rtl":"ltr"} absolute non-selectable`+a.value+(void 0!==e.thumbColor.value?` text-${e.thumbColor.value}`:""))),n=(0,l.EW)((()=>({width:i.thumbSize,height:i.thumbSize,[K.value]:100*e.ratio.value+"%",zIndex:h.value===e.focusValue?2:void 0}))),r=(0,l.EW)((()=>void 0!==e.labelColor.value?` text-${e.labelColor.value}`:"")),o=(0,l.EW)((()=>Ee(e.ratio.value))),s=(0,l.EW)((()=>"q-slider__text"+(void 0!==e.labelTextColor.value?` text-${e.labelTextColor.value}`:"")));return()=>{const a=[(0,l.h)("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[(0,l.h)("path",{d:i.thumbPath})]),(0,l.h)("div",{class:"q-slider__focus-ring fit"})];return!0!==i.label&&!0!==i.labelAlways||(a.push((0,l.h)("div",{class:H.value+" absolute fit no-pointer-events"+r.value},[(0,l.h)("div",{class:J.value,style:{minWidth:i.thumbSize}},[(0,l.h)("div",{class:Z.value,style:o.value},[(0,l.h)("span",{class:s.value},e.label.value)])])])),void 0!==i.name&&!0!==i.disable&&c(a,"push")),(0,l.h)("div",{class:t.value,style:n.value,...e.getNodeData()},a)}}function $e(e,a,t,n){const r=[];"transparent"!==i.innerTrackColor&&r.push((0,l.h)("div",{key:"inner",class:le.value,style:ne.value})),"transparent"!==i.selectionColor&&r.push((0,l.h)("div",{key:"selection",class:Q.value,style:e.value})),!1!==i.markers&&r.push((0,l.h)("div",{key:"marker",class:U.value,style:me.value})),n(r);const o=[(0,E.Kf)("div",{key:"trackC",class:O.value,tabindex:a.value,...t.value},[(0,l.h)("div",{class:ae.value,style:te.value},r)],"slide",R.value,(()=>xe.value))];if(!1!==i.markerLabels){const e=!0===i.switchMarkerLabelsSide?"unshift":"push";o[e]((0,l.h)("div",{key:"markerL",class:ee.value},ge()))}return o}return(0,l.xo)((()=>{document.removeEventListener("mouseup",Me,!0)})),{state:{active:d,focus:h,preventFocus:m,dragging:b,editable:R,classes:Y,tabindex:B,attributes:X,roundValueFn:T,keyStep:V,trackLen:I,innerMin:w,innerMinRatio:D,innerMax:_,innerMaxRatio:F,positionProp:K,sizeProp:P,isReversed:x},methods:{onActivate:fe,onMobileClick:We,onBlur:ye,onKeyup:qe,getContent:$e,getThumbRenderFn:Ce,convertRatioToModel:re,convertModelToRatio:ie,getDraggingRatio:oe}}}var T=t(9140);const V=()=>({});var B=(0,T.a0)({name:"QSlider",props:{...w,modelValue:{required:!0,default:null,validator:e=>"number"===typeof e||null===e},labelValue:[String,Number]},emits:_,setup(e,{emit:a}){const{proxy:{$q:t}}=(0,l.nI)(),{state:n,methods:i}=R({updateValue:p,updatePosition:x,getDragging:g,formAttrs:(0,k.mj)(e)}),o=(0,r.KR)(null),s=(0,r.KR)(0),u=(0,r.KR)(0);function v(){u.value=null===e.modelValue?n.innerMin.value:(0,M.Tq)(e.modelValue,n.innerMin.value,n.innerMax.value)}(0,l.wB)((()=>`${e.modelValue}|${n.innerMin.value}|${n.innerMax.value}`),v),v();const c=(0,l.EW)((()=>i.convertModelToRatio(u.value))),d=(0,l.EW)((()=>!0===n.active.value?s.value:c.value)),m=(0,l.EW)((()=>{const a={[n.positionProp.value]:100*n.innerMinRatio.value+"%",[n.sizeProp.value]:100*(d.value-n.innerMinRatio.value)+"%"};return void 0!==e.selectionImg&&(a.backgroundImage=`url(${e.selectionImg}) !important`),a})),h=i.getThumbRenderFn({focusValue:!0,getNodeData:V,ratio:d,label:(0,l.EW)((()=>void 0!==e.labelValue?e.labelValue:u.value)),thumbColor:(0,l.EW)((()=>e.thumbColor||e.color)),labelColor:(0,l.EW)((()=>e.labelColor)),labelTextColor:(0,l.EW)((()=>e.labelTextColor))}),b=(0,l.EW)((()=>!0!==n.editable.value?{}:!0===t.platform.is.mobile?{onClick:i.onMobileClick}:{onMousedown:i.onActivate,onFocus:y,onBlur:i.onBlur,onKeydown:f,onKeyup:i.onKeyup}));function p(t){u.value!==e.modelValue&&a("update:modelValue",u.value),!0===t&&a("change",u.value)}function g(){return o.value.getBoundingClientRect()}function x(a,t=n.dragging.value){const l=i.getDraggingRatio(a,t);u.value=i.convertRatioToModel(l),s.value=!0!==e.snap||0===e.step?l:i.convertModelToRatio(u.value)}function y(){n.focus.value=!0}function f(a){if(!1===S.includes(a.keyCode))return;(0,W.Gu)(a);const t=([34,33].includes(a.keyCode)?10:1)*n.keyStep.value,l=([34,37,40].includes(a.keyCode)?-1:1)*(!0===n.isReversed.value?-1:1)*(!0===e.vertical?-1:1)*t;u.value=(0,M.Tq)(n.roundValueFn.value(u.value+l),n.innerMin.value,n.innerMax.value),p()}return()=>{const a=i.getContent(m,n.tabindex,b,(e=>{e.push(h())}));return(0,l.h)("div",{ref:o,class:n.classes.value+(null===e.modelValue?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":e.modelValue},a)}}}),I=t(2110),A=t.n(I);const D=p;var F=D;A()(p,"components",{QPage:g.A,QBtn:x.A,QSlider:B})},3749:function(e,a,t){t.d(a,{M4:function(){return o},Sc:function(){return n},mj:function(){return r},vq:function(){return i}});var l=t(4220);const n={name:String};function r(e){return(0,l.EW)((()=>({type:"hidden",name:e.name,value:e.modelValue})))}function i(e={}){return(a,t,n)=>{a[t]((0,l.h)("input",{class:"hidden"+(n||""),...e.value}))}}function o(e){return(0,l.EW)((()=>e.name||e.for))}}}]);
//# sourceMappingURL=boids.1c560df6.js.map